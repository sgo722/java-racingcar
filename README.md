# 🚀 기능 요구 사항

- 주어진 횟수만큼 자동차 경주가 진행된다.

- 자동차는 전진하거나 멈출 수 있다.

- 자동차 이름이 쉼표를 기준으로 구분되어 입력된다.

- 자동차는 이름을 가지고 있고, 이름 조건이 존재한다.
  - 자동차 이름 조건은 다음과 같다.
    1. 자동차 이름은 5글자 이하만 가능하다.

- 사용자가 게임 진행 횟수를 입력한다.
  - 게임 입력 조건은 다음과 같다.
    1. 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException 발생시킨 후 애플리케이션이 종료되어야 한다.

- 자동차 전진한다.
  - 자동차 전진 조건은 다음과 같다.
    1. 0 ~ 9 사아의 무작위 값 중 4 이상의 값이 나올 경우 전진한다.

- 우승자를 출력한다
  - 우승자 출력하는 조건은 다음과 같다.
    1. 자동차 게임이 종료되었을 때 출력한다.
    2. 우승자가 여러 명 경우, 쉼표(,)를 이용하여 구분한다.

# 흐름에 따른 기능 명세서
1. 자동차 이름 입력 메시지 출력 - [ ]
2. 자동차 이름 입력 - [ ]
3. 시도할 회수 입력 메시지 출력 - [ ]
4. 게임 진행 회수 입력 - [ ]
5. 게임 진행 - [ ]
   1. 전진하는 조건에 따라 자동차를 이동 - [ ]
6. 게임 진행 회수만큼 4번 과정을 반복 - [ ]
7. 우승자를 출력한다 - [ ]

# 구현 순서
1. 책임을 가진 객체를 분리해 기본적인 틀 작성
2. 자동차 객체 구현
3. 자동차 게임 서비스 객체 구현 + 책임을 가진 객체 구조 변경(CarGameApplication, domain.game.CarGameManager 추가)
4. 자동차 게임 메시지 객체 구현
5. 자동차 게임 우승자 객체 구현
6. 자동차 게임 운영 객체 구현
7. 게임 횟수 입력 오류시 IllegalArgumentException 발생


# 구현하면서 아차싶은 상황을 정리해보자.
1. 속성 접근자에 final 키워드를 붙이지 않았다.
2. 랜덤값 생성이 정적메서드로 가능할줄 알았는데 불가능해서 메서드를 실행할 때마다 객체를 생성하게 되었다.
3. 게임진행하는것과 게임운영하는 것을 구별해야겠다는 생각이 들었다.
4. 불변객체로 구현하지 못했다. 메서드 실행에 따라 객체 속성값이 변하는 경우가 있다.
   1. domain.car.Car 객체의 moveCount값이 메서드 실행에 따라 변한다.
   2. domain.game.Winner 객체의 winners 객체가 메서드 실행에 따라 변한다.
5. domain.game.Winner 객체가 우승자출력까지 담당하면서 객체의 책임이 애매해졌다는 생각이 들었다.
6. 매 게임 마다 진행상황 출력은 누가 책임을 맡아야 했을까? -> 일단 domain.car.Car 객체에 메서드를 추가했다.

# 아차싶은 상황들을 해결해보자.
1. 1과 4을 해결하기 위해 불변객체로 구현해보자.
2. 랜덤한 숫자를 입력받을 때마다 새로운 객체를 만드는 것은 낭비다 -> 랜덤 객체를 가지고 있도록 해보자.
3. 3을 해결하기 위해서 CarGameManager와 CarGameApplication을 도입해서 게임 운영과 게임 전체 실행하도록 구현했다.
4. 5과 6은 출력에 대한 책임에 대한 고민이다. 
   - 출력하는 책임은 OutputMessage에게 있다고 생각한다.
   - domain.game.Winner 객체의 우승자출력 기능을 OutputMessage에게 위임하자.
   - 매 게임마다 진행상황 출력하는 기능을 OutputMessage에게 위임하자.

    
# 피드백 이후 수정
1. 패키지 구조 변경
2. InputView 추가


# 생각하며 피드백 수정
1. 패키지 구조를 도메인 기반 / 기능 기반으로 설계할 수 있다.
도메인은 기능보다 변경될 가능성이 작습니다. 그래서 도메인 기반으로 하여 패키지 구조를 설계하였습니다.
기존 작성된 코드에서 domain 하위에 car 와 game이라는 패키지를 구성하였습니다.
2. InputMessage와 OutputMessage 모두 화면에 종속된 객체들이라고 생각해서 이름을 View로 변경